import{r as d,j as a,a as t,b as f,M as y,T as g,c as _,P as N,d as v,R as P,e as I}from"./vendor.cba68c8c.js";const x=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function l(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=l(e);fetch(e.href,r)}};x();var b="https://jesusgabri3l.github.io/ip-geolocator/assets/icon-arrow.01e6ab28.svg";function S({onSubmitIPHandler:n}){const[i,l]=d.exports.useState(""),[o,e]=d.exports.useState({ip:"",location:"",coords:"",timezone:"",isp:""}),[r,c]=d.exports.useState(""),h=()=>!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(i),u=()=>{h()?(p(),c("")):c("Looks like you wrote an invalid IP Address")},p=async()=>{const{data:s}=await f(`https://geo.ipify.org/api/v2/country,city?apiKey=at_Pjdp9AgXwcEzrs8P2e4tibZtMpWuj&ipAddress=${i}`),m=[s.location.lat,s.location.lng];e({ip:s.ip,location:s.location.city,timezone:s.location.timezone,coords:m,isp:s.isp}),l(s.ip),n(m)};return d.exports.useEffect(()=>{p()},[]),a("div",{className:"header",children:[t("h1",{className:"header__title",children:"IP Address tracker"}),a("div",{className:"search",children:[t("input",{placeholder:"Search for any IP address or domain",className:r?"search__input hasError":"search__input",onChange:s=>l(s.target.value),value:i,type:"text",onKeyPress:s=>s.key==="Enter"?u():()=>{}}),t("button",{className:"search__button",onClick:()=>u(),children:t("img",{src:b,alt:"icon"})})]}),r&&t("span",{className:"error",children:r}),a("div",{className:"results",children:[a("div",{className:"result",children:[t("small",{className:"result__title",children:"ip address"}),t("p",{className:"result__text",children:o.ip})]}),a("div",{className:"result",children:[t("small",{className:"result__title",children:"location"}),t("p",{className:"result__text",children:o.location})]}),a("div",{className:"result",children:[t("small",{className:"result__title",children:"timezone"}),t("p",{className:"result__text",children:o.timezone})]}),a("div",{className:"result",children:[t("small",{className:"result__title",children:"ISP"}),t("p",{className:"result__text",children:o.isp})]})]})]})}function w(){const n=d.exports.createRef(),[i,l]=d.exports.useState([]);return a("div",{className:"main-wrapper",children:[t(S,{onSubmitIPHandler:e=>{n.current&&(l(e),n.current.flyTo(e,15))}}),t("div",{className:"map",id:"map",children:a(y,{center:[10.963889,-74.796387],zoom:2,style:{height:"100%"},children:[t(g,{attribution:'\xA9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.length===0?"":t(_,{position:i,children:t(N,{children:"This is the position of the current IP"})}),t(v,{children:e=>(n.current=e,null)})]})})]})}P.render(t(I.StrictMode,{children:t(w,{})}),document.getElementById("root"));
